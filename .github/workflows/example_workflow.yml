name: example_workflow
on:
  push:
    branches:
      - react_app_deploy
jobs:
  job1:
      name: Build con 3 steps
      runs-on: ubuntu-latest
      steps:
        - name: Checkout code
          uses: actions/checkout@v2
        - name: Crear est√°ticos
          run: |
            cd my-app
            npm install
            npm run build
        - name: Artefactos generados
          uses: actions/upload-artifact@v3
          with:
            name: index
            path: my-app/src/index.js
  job2:
      name: Deploy jobs
      runs-on: ubuntu-latest
      needs: job1
      steps:
        - name: Descargar artefactos
          uses: actions/download-artifact@v3
          with:
            name: index
        - name: Desplegar artefactos en surge
          uses: dswistowski/surge-sh-action@v1
          with:
            domain: 'foo-bar.surge.sh'
            project: '.'
            login: ${{ secrets.surge_login }}
            token: ${{ secrets.surge_token }}